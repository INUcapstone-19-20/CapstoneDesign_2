
# 회의록
### 20.06.02
수정해야할 사항 :

### [gui.py]

1. 게임실행 파일 바탕화면으로 이동

(싱글모드)
1. 탐색횟수, 시간초 얼마 안남았을 때 아두이노로 얼마 안남았다는 시리얼 통신 보내기<b> </b> <code>통신함수 추가</code> → 함수만 적절한 부위에 넣어주세요!
2. 탐색횟수, 시간초 초과했을 때 아두이노로 시간초과 시리얼 통신 보내기<b> </b> <code>통신함수 추가</code> → 함수만 적절한 부위에 넣어주세요!
3. 탐색횟수, 시간초 얼마 안남았을 때 Danger! 팝업창<b> </b> <code>리소스 </code>
4. ~~최종 결과에서 소요시간 01:13 등의 형식을 바꾸기~~<b> </b> <code>완료</code>
5. ~~첫 버튼 클릭하면 제한시간이 감소하기 시작하도록(통신 필요?)~~<b> </b> <code>완료</code>

(배틀모드)
1. ~~'지뢰가 터졌습니다' 화면 나오고 클릭 없이 2초 후에 '빨강(파랑) 플레이어 승리' 화면 나오도록~~<b> </b> <code>완료</code>
2. ~~재시작 or 처음으로 눌렀을 때 버튼 전체 off 되도록 (현재는 '지뢰가 터졌습니다' 화면 누르면 off)~~<b> </b> <code>완료</code>
3. ~~처음에만 '턴 횟수 정하기' 화면 나오고 게임 진행 중에는 중간 중간 '턴 횟수 정하기' 하면 안나오도록 하기~~<b> </b> <code>완료</code>
4. '빨강(파랑)플레이어 승리' 화면이 너무 밋밋함
5. ~~모든 선택만 [     ] 넣고 나머지는 다 빼기~~<b> </b> <code>완료</code>
6. pass 나오는 확률 낮추기?

### [communication.py]
1. ~~싱글모드에서 탐색횟수 얼마 안남았을 때 아두이노로 얼마 안남았다는 시리얼 통신 보내기~~<b> </b> <code>수정</code>
2. ~~싱글모드에서 시간초 얼마 안남았을 때 아두이노로 얼마 안남았다는 시리얼 통신 보내기~~<b> </b> <code>수정</code>

### [buttonpad.ino]

~~1. 시작 애니메이션 변경 :~~

   ~~(현재) 한 줄씩 애니메이션 다 나오고 끝 줄까지 나오면 처음부터 한 줄씩 다시 꺼짐~~

  ~~→   (변경) 선글라스 웃는 이모티콘~~<b> </b> <code>수정</code>

2. 지뢰 터졌을 때 한번 확산하고 끝나는 것이 아니라 계속해서 확산하도록
3. 싱글모드 결과에서 '처음으로' 누르고 배틀모드 들어갔는데 LED 하나 켜져있는 버그? (주사위 횟수도 하나 감소됨)
4. 턴 횟수 1 남았을 때 버튼 2개 따닥 누르면 버그 발생 → 다음 턴부터 락도 안걸림

(싱글모드)
1. ~~시간초, 탐색횟수 끝나면 끝났다는 이펙트 넣기(기존 지뢰 터지는 이펙트!)<b> </b> <code>통신만 추가</code> → 지뢰 터지는 부분 코드 추가 필요!~~<b> </b> <code>완료</code>
2. ~~지뢰를 찾은 경우, 지뢰 부분은 여러 색 반복이 아니라 초록색 내에서 반복으로~~<b> </b> <code>완료</code>
   
   ~~나머지 LED부분들은 모두 같은 초록색으로 점차적 확산~~<b> </b> <code>완료</code>
   
   ~~or 글자로 LOOSE FAIL 등등~~<b> </b> <code>완료</code>
   
   or 선글라스 쓴 이모티콘, 웃는 이모티콘
3. 시간초와 탐색횟수가 거의 다 되면 LED 전체가 깜빡 깜빡 거리도록(점점 더 깜빡임 빨라지도록?)<b> </b> <code>통신만 추가</code>→ 깜빡이는 부분 코드 추가 필요!

(배틀모드)
1. ~~재시작 or 처음으로 눌렀을 때 버튼 전체 off 되도록 (현재는 '지뢰가 터졌습니다' 화면 누르면 off)~~<b> </b> <code>완료</code>
2. 지뢰색 여러 색 반복이 아니라 빨강플레이어는 빨간색 내에서 반복, 파랑플레이어는 파란색 내에서 반복으로 수정
3. 지뢰 찾았을 때 터진 지뢰 말고 이긴 플레이어 지뢰도 표시


***

### 20.05.21
수정해야할 사항 :

1. ~~순서 정하기에서 pass 제외 (단순 제외? 선후로 결정?)~~<b> </b> <code>완료</code>
2. ~~재시작, 처음으로 눌렀을 때 가끔씩 오류 발생 (LED 안꺼짐, 지뢰 초기화 X)
-> 재시작 천천히 누르면 가능? 빨리 눌러도 가능하도록!~~<b> </b> <code>완료</code>
3. ~~게임 끝나고 '지뢰 터짐 LCD' 누르고나서 재시작 누르기 전에 버튼 눌리는 문제 해결~~<b> </b> <code>완료</code>
4. ~~전원 켜질 때도 아두이노 애니메이션 나오고, 라즈베리파이 켜질 때도 애니메이션 나옴
-> 하나만 되도록!~~<b> </b> <code>완료</code>

12x12 전력 문제 :
전압은 맞는데 전류가 부족? -> 결론적으로 전력이 부족 <code> 해결 방법 찾음 건전지로 6.2(화) 테스트 예정 </code>
1. 기판 쪽에서 바로 ground와 Vddin을 따로 빼서 추가적인 부품을 연결해 전력을 많이 줄 수 있도록
2. 또는 ground와 Vddin을 따로 빼서 추가적인 아두이노를 연결해 두 개의 아두이노에 배터리를 껴서 사용

5월 22일 16시까지 해결방안 찾아서 스카이프로 보고!

다음주 출석은 각자 포스터만 올리기!

다다음주 시연 점검

다다다음주 발표

다다다다음주 최종 완성본으로 성적

다다다다다음주 TESTCASE 완성본 제출

***

### 20.05.17

이예은 - 시리얼 통신(5/19까지), gui 제작(5/19까지)

김병민 - 시리얼 통신(5/19까지), gui 오류(gif 삽입 화면) 해결

손병수 - 

김수연 - 싱글모드 작성, 배틀모드 수정

5/18 13:30 조모임 (간이 케이스 제작, 개인 진행 파트 합친 후 작동 테스트)

***

### 20.05.10

주문한 Adafruit Button Pad 도착

[GUI] - Random 주사위 gif 파일 제작 완성

[게임코드] - 버튼패드가 켜지는 아두이노 코드와 파이썬으로 짜고 있는 게임 코드를 합쳐서 이를 라즈베리파이로 넘길 수 있게 한다


***

### 20.04.26

Adafruit Arduino code (basic) 분석 - 라이브러리 함수 숙지

### 향후계획

[GUI] - 이예은

주사위 돌아가는 부분 오류 해결
라즈베리파이, 아두이노와의 연동을 제외한 GUI 완성 

[라즈베리파이와 아두이노 연동] - 김병민

Adafruit 패드가 오기전에 기존에 있던 Sparkfun 패드를 이용해
아두이노와 라즈베리파이 연동시키기

[게임코드] - 손병수

라즈베리파이에서 구동하는 게임코드의 전체적인 흐름 파이썬으로 작성

[버튼패드] - 김수연

Adafruit 패드가 왔을 때 바로 실행해볼 Testcode 작성
- 1행 4열이 지뢰라고 간주하고 나머지 LED에 지뢰로부터의 거리에 따른 색이 켜지도록 구현

***

### 20.04.18

[GUI]

04.22 까지 완성

[버튼패드]

Adafruit NeoTrellis RGB Driver PCB for 4x4 Keypad

https://www.adafruit.com/product/3954 제품 신청 완료


매뉴얼 숙지

https://learn.adafruit.com/adafruit-neotrellis


Arduino Code 분석하기

https://github.com/adafruit/Adafruit_Seesaw/tree/master/examples/NeoTrellis/basic

https://github.com/adafruit/Adafruit_Seesaw/blob/master/examples/NeoTrellis/ripples/ripples.ino

***

### 20.04.11
[파트분배]

GUI - 이예은

PWM - 김수연, 손병수, 김병민


[GUI]

pyqt로 변경 완료.

화면 구성 진행


[PWM]

exercise3를 analogWrite와 millis 사용해 한 행에 다양한 색 출력.

-> 다양한 색 나오지만 LED 출력이 약하고 불안정함.



불안정(깜빡이는 것이 육안으로 보임)한 문제

  -> 원인 파악: 1ms마다 LED를 껐다 켰다하면서 발생하는 것이라 생각함.
  
  -> 그러나 R, G, B 단일 색 255 밝기로 출력 시에는 깜빡이지 않음. 출력이 약해짐.

LED 출력이 약해지는 문제

  -> R, G, B 단일 색 각각 255 밝기 사용 시 : 같은 값임에도 0행에서 3행으로 갈수록 밝기 약해짐.
  
  -> 문제 해결을 위해 각 RGB 값의 합을 255 이하로 조정했지만 여전히 같은 문제가 발생.


지뢰게임 구현에 있어서 매트릭스로 구현된 회로는 한계점이 있다고 판단함.

적당한 기판을 다시 조사하여 회로도를 분석해보고, 해당 기판으로의 변경을 논의함.


***

### 20.04.05
[파트 분배]

GUI - 김병민, 이예은

PWM - 김수연, 손병수

[GUI]

Tkinter->pyqt로 변경

변경 사유 : 기능이 적어서 GUI 디자인에 어려움을 느낌


[PWM]

색깔을 담당하는 행, 온/오프를 담당하는 열

같은 행에서는 같은 색깔만 켤 수 있다는 한계점

->한 행에서 여러 색깔을 켜기 위해 시간 차 알고리즘을 이용.

밝기 조절

단일색에서 같은 analog value 값을 주었을 시에는 빛이 잘 나옴

하지만 각 행에 다른 analog value 값을 주었을 시에는 한 행, 혹은 여러 개의 행에서 불빛이 나오지 않는 현상이 발생

색을 조합했을 때는 다른 analog value 값을 주었을 시에도 모든 행의 불빛이 잘 나옴

색을 조합한 상태에서 아두이노 코드 내에서 특정 색(R, G, B 중 하나)를 껐을 때 의도와는 다른 행에 다른 색이 나오는 현상이 발생

3단계 밝기 구분은 가능하다고 보여지나 4단계 밝기 구분은 힘들다고 판단됨

---

### 20.03.30
[파트 분배]   
GUI - 김병민, 이예은   
PWM - 김수연, 손병수   

[GUI]   
Tkinter(GUI 모듈)_파이썬 이용   
이전에 GUI 짰던 거를 토대로 구성   
\- 30일까지   
화면에 싱글모드, 배틀모드 띄워진 상태에서 누르면 화면 넘어가는 디스플레이 구성

[PWM]   
개인 개발환경 구축   
코드 완벽 이해   
\- 30일까지   
LED RGB와 PWM value 수치를 조정하여 지뢰찾기에서 최종적으로 사용할 3가지 색 정하기 (색 or 밝기 or 색 + 밝기)   
한 행에 여러가지 색, 여러가지 밝기 켜지도록 하기   
Advanced - 1행 4열을 지뢰라고 생각하고 부분적으로 밝기 다르게 구성   
다음에 - 턴의 의미 부여(어떤 버튼이든 누를 때마다 빨강, 파랑 번갈아 가면서 나오도록)   

[기타]   
회의록 - 한글파일 업로드 방식 -> GitHub에 바로 바로 적기   
GitHub 깔끔하게 파일 분류하기
***
